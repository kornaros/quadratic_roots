<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>kornaros_demo_for_quadratic_roots</title>
  <script src="https://sagecell.sagemath.org/static/jquery.min.js"></script>
  <script src="https://sagecell.sagemath.org/embedded_sagecell.js"></script>
  <script>
    $(function () {
      sagecell.makeSagecell({
        inputLocation: '#sage-interact',
        template: sagecell.templates.interact,
        evalButtonText: '',
        autoeval: true,
        hide: ['editor', 'evalButton']
      });
    });
  </script>
</head>
<body style="font-family: Arial, sans-serif; margin: 2em; max-width: 800px;">
  <h2>Διαδραστικό Demo – Λύση Δευτεροβάθμιας Εξίσωσης</h2>
  <p style="font-size: 1.1em; color: #333;">
    Αυτό είναι ένα διαδραστικό demo των δυνατοτήτων του <strong>SageMath</strong>.
    Μπορείτε να υπολογίσετε τις ρίζες μιας δευτεροβάθμιας εξίσωσης εισάγοντας τιμές για τους συντελεστές <strong>a, b, c</strong> στο διάστημα <code>[-10, 10]</code>.
    Οι τιμές μπορούν να περιλαμβάνουν μαθηματικές παραστάσεις όπως:
    <code>π</code>, <code>e</code>, <code> ln(2)</code>, <code>sqrt(2)</code> (τετραγωνική ρίζα του 2), κ.ά.
    <br><br>
    Απλώς εισάγετε τιμές και πατήστε <strong>Enter</strong> ή αλλάξτε πεδίο για να εκτελεστεί ο υπολογισμός.
  </p>

  <div id="sage-interact">
    <script type="text/x-sage">
@interact
def solve_quadratic(
    a_str=input_box('1', label='a', type=str),
    b_str=input_box('1', label='b', type=str),
    c_str=input_box('1', label='c', type=str)
):
    try:
        a = SR(a_str)
        b = SR(b_str)
        c = SR(c_str)

        if not all(-10 <= val.n() <= 10 for val in [a, b, c]):
            pretty_print(html("<span style='color:red'>Οι τιμές πρέπει να είναι μεταξύ -10 και 10.</span>"))
            return

        def format_coef_parentheses(coef):
            if coef.is_integer() and coef > 0:
                return str(int(coef))
            else:
                return f"({latex(coef)})"

        a_fmt, b_fmt, c_fmt = format_coef_parentheses(a), format_coef_parentheses(b), format_coef_parentheses(c)

        eq = a*x^2 + b*x + c == 0
        Delta = b^2 - 4*a*c
        Delta_val = Delta.n()

        show(LatexExpr(r"\text{Λύνουμε την εξίσωση:} \quad %s x^2 + %s x + %s = 0" % (
            a_fmt, b_fmt, c_fmt)))
        show(LatexExpr(r"\Delta = b^2 - 4ac = %s" % latex(Delta)))

        plot1 = plot(a*x^2 + b*x + c, (x, -10, 10), ymin=-10, ymax=10, color='blue', thickness=2, legend_label="y = ax² + bx + c")

        if Delta_val >= 0:
            r1 = (-b + sqrt(Delta)) / (2*a)
            r2 = (-b - sqrt(Delta)) / (2*a)
            roots = [r1, r2] if Delta_val > 0 else [r1]

            if Delta_val > 0:
                show(LatexExpr(
                    r"\textcolor{green}{\text{Πραγματικές ρίζες: }} "
                    r"x_1 = \frac{%s + \sqrt{%s}}{%s} \approx %s, \; "
                    r"x_2 = \frac{%s - \sqrt{%s}}{%s} \approx %s" %
                    (format_coef_parentheses(-b), latex(Delta), format_coef_parentheses(2*a), latex(r1.n(digits=3)),
                     format_coef_parentheses(-b), latex(Delta), format_coef_parentheses(2*a), latex(r2.n(digits=3)))
                ))
            else:
                r = r1
                show(LatexExpr(
                    r"\textcolor{green}{\text{Διπλή ρίζα: }} x = \frac{%s}{%s} \approx %s" %
                    (format_coef_parentheses(-b), format_coef_parentheses(2*a), latex(r.n(digits=3)))
                ))

            for r in roots:
                plot1 += point((r.n(), 0), size=30, color='green')

        else:
            r1 = (-b + sqrt(Delta)) / (2*a)
            r2 = (-b - sqrt(Delta)) / (2*a)
            show(LatexExpr(
                r"\textcolor{red}{\text{Μη πραγματικές ρίζες: }} x_1 = %s, \; x_2 = %s" %
                (latex(r1), latex(r2))
            ))

        plot1.show(legend_loc='upper right')

    except Exception:
        pretty_print(html("<span style='color:red'>Σφάλμα στην είσοδο: παρακαλώ συμπληρώστε σωστά τον μαθηματικό τύπο.</span>"))
    </script>
  </div>

  <!-- Footer με τις εικόνες -->
  <hr style="margin: 3em 0;">
  <h3>Στιγμιότυπα από άλλα projects από την πρώτη ενότητα: Εισαγωγή στην Υλοποίηση Διαδραστικών Μαθημάτων με SageMath/Python</h3>

  <div style="display: flex; flex-wrap: wrap; gap: 1em; margin-top: 1em;">
    <!-- Παράδειγμα για όλες τις εικόνες -->
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/p1-p2-p3-arrow.png" alt="p1-p2-p3-arrow" style="max-width: 100%;">
        <div>p1-p2-p3-arrow: Παράδειγμα διαδραστικού διαγράμματος</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/paragwgos_graphic_array.png" alt="paragwgos_graphic_array" style="max-width: 100%;">
        <div>paragwgos_graphic_array: Παράσταση παραγώγου σε πίνακα</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/parametric_derivative_.gif" alt="parametric_derivative_" style="max-width: 100%;">
        <div>parametric_derivative_: Κινούμενη εικόνα παραμετρικής παραγώγου</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/plane_me_imlicitplot.png" alt="plane_me_imlicitplot" style="max-width: 100%;">
        <div>plane_me_imlicitplot: Γραφική παράσταση implicit plot</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/plane_me_parametric_plot.png" alt="plane_me_parametric_plot" style="max-width: 100%;">
        <div>plane_me_parametric_plot: Παράμετρος γραφικής παράστασης</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/pleyresparallhlogrammou.png" alt="pleyresparallhlogrammou" style="max-width: 100%;">
        <div>pleyresparallhlogrammou: Πλευρές παραλληλογράμμου</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/plotsin_apo_meionpi_ews2pi.png" alt="plotsin_apo_meionpi_ews2pi" style="max-width: 100%;">
        <div>plotsin_apo_meionpi_ews2pi: Γράφημα ημιτόνου</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/polarcoordinates.png" alt="polarcoordinates" style="max-width: 100%;">
        <div>polarcoordinates: Συντεταγμένες σε πολικό σύστημα</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/polarplot.png" alt="polarplot" style="max-width: 100%;">
        <div>polarplot: Πολικό γράφημα</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/regression_with_title.png" alt="regression_with_title" style="max-width: 100%;">
        <div>regression_with_title: Γραμμική παλινδρόμηση με τίτλο</div>
    </div>

    <!-- Προσθέτουμε τις υπόλοιπες εικόνες με τον ίδιο τρόπο -->
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/sagehistogram.png" alt="sagehistogram" style="max-width: 100%;">
        <div>sagehistogram: Ιστογράμματα με SageMath</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/scatterandlistplot.png" alt="scatterandlistplot" style="max-width: 100%;">
        <div>scatterandlistplot: Scatter plot και List plot</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/semilog.png" alt="semilog" style="max-width: 100%;">
        <div>semilog: Γραφική παράσταση ημιλογαριθμική</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/slider-paragwgoi.png" alt="slider-paragwgoi" style="max-width: 100%;">
        <div>slider-paragwgoi: Παράδειγμα με slider παραγώγων</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/sygkroush.png" alt="sygkroush" style="max-width: 100%;">
        <div>sygkroush: Προσομοίωση σύγκρουσης</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/symbolh.png" alt="symbolh" style="max-width: 100%;">
        <div>symbolh: Παράδειγμα σύμβολου</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/systhmaaniswsewn.png" alt="systhmaaniswsewn" style="max-width: 100%;">
        <div>systhmaaniswsewn: Λύση συστήματος ανισώσεων</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/table.png" alt="table" style="max-width: 100%;">
        <div>table: Παράσταση πίνακα</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/tangent_secant_.gif" alt="tangent_secant_" style="max-width: 100%;">
        <div>tangent_secant_: Κινούμενο tangent και secant</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/taxythta-epitaxynsh.png" alt="taxythta-epitaxynsh" style="max-width: 100%;">
        <div>taxythta-epitaxynsh: Γραφική παράσταση ταχύτητας</div>
    </div>
    <div style="flex: 1 1 200px; text-align: center;">
        <img src="images/theorem_thalhs.png" alt="theorem_thalhs" style="max-width: 100%;">
        <div>theorem_thalhs: Απόδειξη Θεωρήματος Θαλή</div>
    </div>
  </div>

</body>
</html>
